#!/usr/bin/env bash
set -e

echo "ğŸ” Running code quality checks..."

echo "1ï¸âƒ£  RuboCop (Style & Lint)..."
if ! bundle exec rubocop --autocorrect; then
  echo "âŒ RuboCop failed. Please fix the issues above."
  exit 1
fi

echo "2ï¸âƒ£  Rails Tests..."
if ! bin/rails test; then
  echo "âŒ Tests failed. Please fix the failing tests."
  exit 1
fi

echo "3ï¸âƒ£  System Tests..."
if ! bin/rails test:system; then
  echo "âŒ System tests failed. Please fix the failing tests."
  exit 1
fi

echo "âœ… All checks passed! Ready to commit."
